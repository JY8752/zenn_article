---
title: "Taskfile„Çí‰ΩøÁî®„Åó„Å¶Ë®ò‰∫ãÁÆ°ÁêÜ„ÇíËá™ÂãïÂåñ„Åó„ÅüË©±"
emoji: "üçá"
type: "tech" # tech: ÊäÄË°ìË®ò‰∫ã / idea: „Ç¢„Ç§„Éá„Ç¢
topics: ["Taskfile", "Makefile", "CLI", "Go"]
published: true
---

https://zenn.dev/jy8752/articles/bff01aa5e2fcda

„Åì„Å°„Çâ„ÅÆË®ò‰∫ã„ÅßËá™‰Ωú„ÅÆ```note-cli```„Å®„ÅÑ„ÅÜnote„ÇÑÂÄã‰∫∫„Éñ„É≠„Ç∞„ÅÆË®ò‰∫ã„ÇíÁÆ°ÁêÜ„Åô„Çã„Åü„ÇÅ„ÅÆCLI„ÉÑ„Éº„É´„Çí‰ΩúÊàê„Åó„ÅüË©±„ÇíÁ¥π‰ªã„Åï„Åõ„Å¶„ÅÑ„Åü„Å†„Åç„Åæ„Åó„Åü„ÄÇ

ÂÄã‰∫∫ÁöÑ„Å´‰Ωø„ÅÑ„ÇÑ„Åô„ÅÑ„Çà„ÅÜ„Å´„Å°„Çá„Åì„Å°„Çá„Åì„ÅÑ„Åò„Å£„Å¶„ÅÑ„Å¶ÂÄã‰∫∫„Éñ„É≠„Ç∞„ÅÆË®ò‰∫ãÁÆ°ÁêÜ„Å´„ÇÇÂØæÂøú„Åï„Åõ„Åü„ÅÆ„Å®„Ç≥„Éû„É≥„ÉâÂÆüË°åÊôÇ„Å´Ë§áÊï∞„ÅÆ„Éï„É©„Ç∞„ÇíÊåáÂÆö„Åô„ÇãÊÑü„Åò„Å´„Å™„Å£„Å¶„Åó„Åæ„Å£„Åü„ÅÆ„Åß„Çø„Çπ„ÇØ„É©„É≥„Éä„Éº„Å®„Åó„Å¶[Taskfile](https://taskfile.dev/)„ÇíÂ∞éÂÖ•„Åó„Åü„ÅÆ„Åß„Åù„ÅÆÂÇôÂøòÈå≤„Åß„Åô„ÄÇ

## Taskfile„Å´„Å§„ÅÑ„Å¶

https://qiita.com/schrosis/items/12b4361c528819d13901

Makefile„ÇíË¶ö„Åà„Å¶„Åã„Çâ‰Ωï„Åã„Å®Makefile„Åß„ÇÑ„Çç„ÅÜ„Å®„Åô„Çã„Åè„Çâ„ÅÑMakefile„ÅåÊ∞ó„Å´ÂÖ•„Å£„Å¶„ÅÑ„Åü„ÅÆ„Åß„Åô„Åå‰∏äË®òË®ò‰∫ã„ÅßMakefileË≠¶ÂØü„ÅÆÂ≠òÂú®„ÇíÁü•„Å£„Åü„ÅÆ„ÅßÊ¨°Makefile‰Ωø„ÅÑ„Åü„Åè„Å™„Å£„Åü„ÇâTaskfile„Çí‰ΩøÁî®„Åó„Çà„ÅÜ„Å®ÊÄù„Å£„Å¶„ÅÑ„Åü„Åü„ÇÅÊé°Áî®„Åó„Å¶„Åø„Åæ„Åó„Åü„ÄÇ

Ë©≥„Åó„Åè„ÅØ‰∏äË®òË®ò‰∫ã„ÇÑÂÖ¨Âºè„ÅÆ„Éâ„Ç≠„É•„É°„É≥„Éà„ÇíÂèÇÁÖß„Åó„Å¶„ÅÑ„Åü„Å†„Åë„Çå„Å∞„Å®ÊÄù„ÅÑ„Åæ„Åô„Åå„Åñ„Å£„Åè„ÇäË®Ä„ÅÜ„Å®```Taskfile.yml```„Å®„ÅÑ„ÅÜ„Çà„ÅÜ„Å™yaml„Éï„Ç°„Ç§„É´„Åß„Çø„Çπ„ÇØ„ÇíÁÆ°ÁêÜ„Åó„Åæ„Åô„ÄÇ‰ª•‰∏ã„ÅØÂÖ¨Âºè„Éâ„Ç≠„É•„É°„É≥„ÉàË®òËºâ„ÅÆ‰æã„Åß„Åô„ÄÇ

```yaml:Taskfile.yml
version: '3'

tasks:
  hello:
    cmds:
      - echo 'Hello World from Task!'
    silent: true
```

```
% task hello

> Hello World from Task!
```

Taskfile„ÅÆ„Ç§„É≥„Çπ„Éà„Éº„É´ÊñπÊ≥ï„ÅØ„ÅÑ„Çç„ÅÑ„ÇçÁî®ÊÑè„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„Åå‰ªäÂõû„ÅØHomebrew„Åß„Ç§„É≥„Çπ„Éà„Éº„É´„Åó„Åæ„Åó„Åü„ÄÇ

```
brew install go-task
```

‰ªñ„ÅÆÊñπÊ≥ï„ÅØ„Åì„Å°„Çâ„ÇíÂèÇÁÖß„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

https://taskfile.dev/installation/

## ÂÄã‰∫∫„Éñ„É≠„Ç∞„ÅÆË®ò‰∫ãÁÆ°ÁêÜ„Å´Â∞éÂÖ•„Åó„Å¶„Åø„Çã

ÂÄã‰∫∫„Éñ„É≠„Ç∞„ÇíAstro„ÅßÂÖ¨Èñã„Åó„Å¶„ÅÑ„Å¶Ë®ò‰∫ã„Éï„Ç°„Ç§„É´„ÅØ```src/content/blog```ÈÖç‰∏ã„Å´markdown„Éï„Ç°„Ç§„É´„ÇíÈÖçÁΩÆ„Åó„Å¶ÁÆ°ÁêÜ„Åó„Å¶„ÅÑ„Åæ„Åó„Åü„ÄÇ

```
tree ./src/content/blog 

./src/content/blog
‚îú‚îÄ‚îÄ 2023-10-01.md
‚îú‚îÄ‚îÄ 20230321.md
‚îú‚îÄ‚îÄ 20230506.md
‚îî‚îÄ‚îÄ 20230719.md
```

ÂêÑË®ò‰∫ã„Éï„Ç°„Ç§„É´„Å´„ÅØ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å™„É°„Çø„Éá„Éº„ÇøÁöÑ„Å™„ÇÇ„ÅÆ„ÇíË®òËºâ„Åó„Å¶„Åæ„Åô„ÄÇ

```markdown
---
title: "Workers Tech Talk#1„Å´ÂèÇÂä†„Åó„ÅüÊÑüÊÉ≥"
tags: ["tech", "„Éù„Ç®„É†", "Cloudflare"]
date: "2023-07-19"
---
```

„Åì„Çå„Çâ„ÅÆË®ò‰∫ã„Éï„Ç°„Ç§„É´„ÅØÁõ¥Êé•ÊâãÂãï„Åß‰ΩúÊàê„Åó„Å¶„ÅÑ„Åü„ÅÆ„ÇíËá™ÂãïÂåñ„Åó„Åü„ÅÑ„Å®ÊÄù„Å£„Å¶„ÅÑ„Åü„Åü„ÇÅ„ÄÅ```note-cli```„ÅÆÊ©üËÉΩ„ÇíÊã°Âºµ„Åó„Å¶ÂØæÂøú„Åï„Åõ„Å¶„Åø„Åæ„Åó„Åü„ÄÇ

```
% note-cli create article ./src/content/blog -n article --no-dir -author Junichi.Y

% cat ./src/content/blog/article.md

---
title: ""
tags: []
date: "2023-10-02"
author: "Junichi.Y"
---
```

„Åì„ÅÆ„Ç≥„Éû„É≥„Éâ„ÇíÊØéÂõûÂÆüË°å„Åô„Çã„ÅÆ„ÇÇ„ÅÇ„Çå„Å™„ÅÆ„ÅßTaskfile„Çí‰ΩøÁî®„Åó„Å¶„Çø„Çπ„ÇØÂåñ„Åó„Å¶„Åø„Åæ„Åô„ÄÇ

```yaml:Taskfile.yaml
version: '3'

tasks:
  new:article:
    dir: $HOME/myapp/my-blog/astro-my-blog/src/content/blog
    cmds:
      - note-cli create article -a Junichi.Y --no-dir -t .
```

„Åì„Çå„Åß‰ª•‰∏ã„ÅÆ„Ç≥„Éû„É≥„Éâ„Å†„Åë„ÅßË®ò‰∫ã„Éï„Ç°„Ç§„É´„Åå‰ΩúÊàê„Åï„Çå„Åæ„Åô„ÄÇ

```
% task new:article
```

„Åõ„Å£„Åã„ÅèTaskfile„ÇíÂ∞éÂÖ•„Åó„Åü„ÅÆ„ÅßÂÄã‰∫∫„Éñ„É≠„Ç∞„Åß„ÇÇTaskfile„ÅÆÂ∞éÂÖ•„Å´„Å§„ÅÑ„Å¶Á∞°Âçò„Å´Ë®ò‰∫ã„Å´„Åó„Å¶„Åø„Åæ„Åó„Åü„ÄÇ

https://jy-panda.com/2023-10-01/

## note„ÅÆË®ò‰∫ãÁÆ°ÁêÜ„Å´„ÇÇÂ∞éÂÖ•„Åó„Å¶„Åø„Çã

note„ÅÆË®ò‰∫ãÁÆ°ÁêÜ„Å´„ÇÇÂêå„Åò„Çà„ÅÜ„Å´Â∞éÂÖ•„Åó„Å¶„Åø„Åæ„Åô„ÄÇ‰ΩúÊàê„Åó„ÅüTaskfile„ÅØ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å™ÊÑü„Åò„Åß„Åô„ÄÇ

```yaml:Taskfile.yaml
version: '3'

tasks:
  new:article:
    dir: $HOME/note
    cmds:
      - note-cli create article -a Junichi.Y -t .
```

ÂÄã‰∫∫„Éñ„É≠„Ç∞„ÅÆ„Å®„Åç„Å®„Åª„Å®„Çì„Å©‰∏ÄÁ∑í„Åß„Åô„ÄÇnote„ÅÆÊñπ„ÅØ‰∏ÄÂøúË®ò‰∫ã„Éï„Ç°„Ç§„É´„ÅÆ„É°„Çø„Éá„Éº„Çø„Åã„Çâ„Ç¢„ÉÉ„Éó„É≠„Éº„ÉâÁî®„ÅÆÁîªÂÉè„Éï„Ç°„Ç§„É´„ÇíÁîüÊàê„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åó„Å¶„ÅÑ„Çã„ÅÆ„Åß„Åù„Çå„ÇÇ„Çø„Çπ„ÇØÂåñ„Åó„Å¶„Åø„Åæ„Åô„ÄÇ

ÂÖà„Å´„Ç≥„Éû„É≥„Éâ„ÅØ„Åì„Çì„Å™ÊÑü„Åò„ÅßÁîªÂÉèÁîüÊàê„Åß„Åç„Åæ„Åô„ÄÇ

```
% note-cli create image ./article/article.md -i ./icon.png --template 1 -o ./article/output.png
```

- ```./article.md``` „É°„Çø„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„ÇÄ„Åü„ÇÅ„Å´ÂØæË±°„ÅÆË®ò‰∫ã„Éï„Ç°„Ç§„É´„ÅÆ„Éë„Çπ„ÇíÊåáÂÆö
- ```-i``` ÁîüÊàê„Åô„ÇãÁîªÂÉè„Å´Âüã„ÇÅËæº„ÇÄ„Ç¢„Ç§„Ç≥„É≥ÁîªÂÉè„ÅÆ„Éë„Çπ„ÇíÊåáÂÆö
- ```--template``` ‰ΩøÁî®„Åô„ÇãÁîªÂÉè„ÉÜ„É≥„Éó„É¨„Éº„Éà„ÅÆÁï™Âè∑„ÇíÊåáÂÆö
- ```-o``` Âá∫Âäõ„Éï„Ç°„Ç§„É´Âêç

### Taskfile„Å´ÂºïÊï∞„ÇíÊ∏°„Åô

ÁîªÂÉèÁîüÊàê„ÅÆÂ†¥Âêà„ÄÅÂØæË±°„ÅÆË®ò‰∫ã„Éï„Ç°„Ç§„É´„ÇíÂºïÊï∞„Å®„Åó„Å¶ÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„Å©„ÅÜ„Åó„Å¶„ÇÇ„ÅÇ„Å£„Åü„Åü„ÇÅ„Çø„Çπ„ÇØ„ÅÆÂÆüË°å„Å´ÂºïÊï∞„ÇíÊåáÂÆö„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åù„ÅÜ„Åß„Åó„Åü„ÄÇ„ÅÑ„Çç„ÅÑ„Çç„ÇÑ„ÇäÊñπ„Åå„ÅÇ„Çä„Åù„ÅÜ„Å†„Å£„Åü„Çì„Åß„Åô„Åå„Åæ„Åö‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´„Åó„Å¶ÂºïÊï∞„Çí„Åù„ÅÆ„Åæ„ÅæTaskfile„Å´Ê∏°„Åõ„Åæ„Åô„ÄÇ‰ª•‰∏ã„ÅÆ‰æã„ÅØTaskfile„ÅÆÂÖ¨Âºè„Éâ„Ç≠„É•„É°„É≥„Éà„Å´Ë®òËºâ„ÅÆ‰æã„Åß„Åô„ÄÇ

```yaml
version: '3'

tasks:
  yarn:
    cmds:
      - yarn {{.CLI_ARGS}}
```

```
$ task yarn -- install
```

```--```„ÅÆ„ÅÇ„Å®„Å´ÊåáÂÆö„Åó„ÅüÂºïÊï∞„ÅØTaskfileÂÜÖ„Åß```{{.CLI_ARGS}}```„ÅßÂÖ®„Å¶Ê∏°„Åô„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ‰∏äË®ò„Çø„Çπ„ÇØ„ÅÆÂÆüË°å„Åô„Çã„Ç≥„Éû„É≥„Éâ„ÅØ```yarn install```„Å®„Å™„Çä„Åæ„Åô„ÄÇ

„Åì„ÅÆ‰ªïÁµÑ„Åø„Çí‰Ωø„ÅÑÂºïÊï∞„Å´„Éá„Ç£„É¨„ÇØ„Éà„É™Âêç„ÇíÊ∏°„ÅóTaskfileÂÜÖ„Åß„Åî„Å´„Çá„Åî„Å´„Çá„Åó„Å¶ÂøÖË¶Å„Å™Â§âÊï∞„ÇíÁî®ÊÑè„Åó„Åæ„Åô„ÄÇ

```yaml:Taskfile.yaml
  new:image:
    dir: $HOME/note
    cmds:
      - |
        # Â§âÊï∞„Å´ÂºïÊï∞„Åã„ÇâÊ∏°„Å£„Å¶„Åç„Åü„Éá„Ç£„É¨„ÇØ„Éà„É™Âêç„ÇíÊ†ºÁ¥ç
        DIR={{.CLI_ARGS}}
        # ‰∏ÄÂøú„ÄÅÊú´Â∞æ„ÅÆ„Çπ„É©„ÉÉ„Ç∑„É•„ÅÇ„Çå„Å∞Èô§Âéª„Åó„Å¶„Åä„Åè
        [[ $DIR == */ ]] && DIR="${DIR%/}"

        # Âá∫ÂäõÂÖà
        OUTPUT=$DIR/output.png
        # ÂØæË±°„ÅÆË®ò‰∫ã„Éï„Ç°„Ç§„É´
        ARTICLE=$DIR/$DIR.md
```

„Åæ„Åü„ÄÅ```cmds```„Å´„ÅØ‰∏äË®ò„ÅÆ„Çà„ÅÜ„Å´„Åó„Å¶Ë§áÊï∞Ë°å„ÅÆ„Ç≥„Éû„É≥„Éâ„Çí„Çπ„ÇØ„É™„Éó„Éà„Å®„Åó„Å¶Êõ∏„Åè„Åì„Å®„ÇÇ„Åß„Åç„Åæ„Åô„ÄÇ

### („Åä„Åæ„Åë)‰π±Êï∞„Çí‰ΩøÁî®„Åó„Å¶„ÉÜ„É≥„Éó„É¨„Éº„Éà„Çí„É©„É≥„ÉÄ„É†„Å´‰ΩøÁî®„Åô„Çã

Êú¨È°å„Åã„ÇâÈÄ∏„Çå„Åæ„Åô„ÅåÁîªÂÉèÁîüÊàê„Å´‰ΩøÁî®„Åô„Çã„ÉÜ„É≥„Éó„É¨„Éº„ÉàÁîªÂÉè„ÅåÁï™Âè∑„ÇíÊåáÂÆö„Åô„Çã„Å†„Åë„Å™„ÅÆ„ÅßÁñë‰ºº‰π±Êï∞„ÇíÁîüÊàê„Åó„Å¶„É©„É≥„ÉÄ„É†„Å´ÈÅ∏Êäû„Åï„Çå„Çã„Çà„ÅÜ„Å´„Åó„Å¶„Åø„Åæ„Åó„Åü„ÄÇ„Ç∑„Çß„É´„Åß‰π±Êï∞ÁîüÊàê„Çí„Åó„Åü„Åì„Å®„Åå„Å™„Åã„Å£„Åü„ÅÆ„Åß„Åô„Åå```$RANDOM```„Çí‰ΩøÁî®„Åô„Çã„Åì„Å®„Åß```0 „Äú 32767```„ÅÆÁØÑÂõ≤„ÅÆÊï∞ÂÄ§„Çí„É©„É≥„ÉÄ„É†„Å´ÁîüÊàê„Åß„Åç„Çã„Çà„ÅÜ„Åß„Åô„ÄÇ„ÉÜ„É≥„Éó„É¨„Éº„Éà„ÅØ3„Å§„Åó„Åã„Å™„ÅÑ„ÅÆ„Åß```1-3```„ÅÆÁØÑÂõ≤„Åß‰π±Êï∞„ÅåÁîüÊàê„Åß„Åç„Çå„Å∞„ÅÑ„ÅÑ„ÅÆ„ÅßÂïèÈ°å„Å™„Åï„Åù„ÅÜ„Åß„Åô„ÄÇ

```diff yaml:Taskfile.yaml
  new:image:
    dir: $HOME/note
    cmds:
      - |
        # Â§âÊï∞„Å´ÂºïÊï∞„Åã„ÇâÊ∏°„Å£„Å¶„Åç„Åü„Éá„Ç£„É¨„ÇØ„Éà„É™Âêç„ÇíÊ†ºÁ¥ç
        DIR={{.CLI_ARGS}}
        # ‰∏ÄÂøú„ÄÅÊú´Â∞æ„ÅÆ„Çπ„É©„ÉÉ„Ç∑„É•„ÅÇ„Çå„Å∞Èô§Âéª„Åó„Å¶„Åä„Åè
        [[ $DIR == */ ]] && DIR="${DIR%/}"

+        # „Åì„Çå„ÇíËøΩÂä†
+        TEMPLATE_NUM=$((RANDOM % 3 + 1))
        # Âá∫ÂäõÂÖà
        OUTPUT=$DIR/output.png
        # ÂØæË±°„ÅÆË®ò‰∫ã„Éï„Ç°„Ç§„É´
        ARTICLE=$DIR/$DIR.md
```

„Åì„Çå„Åß```1-3```„ÅÆÁØÑÂõ≤„ÅÆÂÄ§„Åå„É©„É≥„ÉÄ„É†„Å´Â§âÊï∞„Å´Ê†ºÁ¥ç„Åï„Çå„Çã„Å®ÊÄù„Å£„Åü„ÅÆ„Åß„Åô„ÅåÊØéÂõûÂêå„ÅòÂÄ§„Åå‰ΩøÁî®„Åï„Çå„Å¶„Åó„Åæ„ÅÜ„ÄÇ„ÄÇseed„ÅåÊØéÂõûÂêå„ÅòÂÄ§‰Ωø„Çè„Çå„Å¶„Çã„ÅÆ„Åã„Å™Ôºü

„Å°„Çá„Å£„Å®ÂéüÂõ†„Åå„Çè„Åã„Çâ„Å™„Åù„ÅÜ„Å†„Å£„Åü„ÅÆ„Åßruby„ÅÆrandÈñ¢Êï∞„Çí‰ΩøÁî®„Åô„Çã„Çà„ÅÜ„Å´Â§âÊõ¥„Åó„Åæ„Åó„Åü„ÄÇ„Åì„ÅÜ„ÅÑ„ÅÜÊôÇ„ÄÅ„Çπ„ÇØ„É™„Éó„ÉàË®ÄË™û‰æøÂà©ÔºÅÔºÅ

```diff yaml:Taskfile.yaml
  new:image:
    dir: $HOME/note
    cmds:
      - |
        # Â§âÊï∞„Å´ÂºïÊï∞„Åã„ÇâÊ∏°„Å£„Å¶„Åç„Åü„Éá„Ç£„É¨„ÇØ„Éà„É™Âêç„ÇíÊ†ºÁ¥ç
        DIR={{.CLI_ARGS}}
        # ‰∏ÄÂøú„ÄÅÊú´Â∞æ„ÅÆ„Çπ„É©„ÉÉ„Ç∑„É•„ÅÇ„Çå„Å∞Èô§Âéª„Åó„Å¶„Åä„Åè
        [[ $DIR == */ ]] && DIR="${DIR%/}"

        # „Åì„Çå„ÇíËøΩÂä†
-        TEMPLATE_NUM=$((RANDOM % 3 + 1))
+        TEMPLATE_NUM=$(ruby -e 'puts rand(1..3)')
        # Âá∫ÂäõÂÖà
        OUTPUT=$DIR/output.png
        # ÂØæË±°„ÅÆË®ò‰∫ã„Éï„Ç°„Ç§„É´
        ARTICLE=$DIR/$DIR.md
```

ÊúÄÁµÇÁöÑ„Å™Taskfile„ÅØ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ

```yaml:Taskfile.yaml
version: '3'

tasks:
  new:article:
    desc: create new article. [command] task new:article
    dir: $HOME/note
    cmds:
      - note-cli create article -a Junichi.Y -t .
    silent: true
  new:image:
    desc: create new article image. [command] task new:image -- [directory name] 
    dir: $HOME/note
    preconditions:
      - sh: command -v ruby
        msg: This command requires ruby.Please install ruby.
    cmds:
      - |
        DIR={{.CLI_ARGS}}
        [[ $DIR == */ ]] && DIR="${DIR%/}"

        # TEMPLATE_NUM=$((RANDOM % 3 + 1))
        TEMPLATE_NUM=$(ruby -e 'puts rand(1..3)')
        OUTPUT=$DIR/output.png
        ARTICLE=$DIR/$DIR.md

        note-cli create image -i ./icon.png --template $TEMPLATE_NUM -o $OUTPUT $ARTICLE
    silent: true
```

„Çø„Çπ„ÇØ„ÅÆÂÆüË°å

```
% task new:image -- 2023-10-01
Complete generate OGP image

% tree 2023-10-01 
2023-10-01
‚îú‚îÄ‚îÄ 2023-10-01.md
‚îî‚îÄ‚îÄ output.png
```

## „Åæ„Å®„ÇÅ

‰ªäÂõû„ÅØ‰ª•‰∏ã„ÅÆ„Åì„Å®„Å´„Å§„ÅÑ„Å¶Á¥π‰ªã„Åó„Åæ„Åó„Åü„ÄÇ

- note-cli„ÅÆÂÄã‰∫∫„Éñ„É≠„Ç∞„Å∏„ÅÆÂ∞éÂÖ•ÊñπÊ≥ï„Å´„Å§„ÅÑ„Å¶
- „Çø„Çπ„ÇØ„É©„É≥„Éä„Éº„Åß„ÅÇ„ÇãTaskfile„ÅÆÂ∞éÂÖ•ÊñπÊ≥ï„Å´„Å§„ÅÑ„Å¶
- Taskfile„Å´ÂºïÊï∞„ÇíÊ∏°„Åó„Å¶„Çπ„ÇØ„É™„Éó„Éà„ÇíÂÆüË°å„Åô„ÇãÊñπÊ≥ï„Å´„Å§„ÅÑ„Å¶

ÂÄã‰∫∫ÁöÑ„Å´„ÅØ„Åì„Çå„Åßzenn, qiita, note, ÂÄã‰∫∫„Éñ„É≠„Ç∞„ÅåÂêå„Åò„Çà„ÅÜ„Å™ÊÑüË¶ö„ÅßÊâãÂÖÉ„ÅßÂü∑Á≠Ü„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÅÆ„ÅßÊ∫ÄË∂≥„Åó„Å¶„Åæ„Åô„ÄÇ‰Ωø„Å£„Å¶„Åø„ÅüÊÑü„ÅòTaskfile„ÅØÁõ¥ÊÑüÁöÑ„Å´„Çè„Åã„Çä„ÇÑ„Åô„Åè„Çø„Çπ„ÇØ„ÅåÂÆöÁæ©„Åß„Åç„Çã„ÅÆ„Åß„ÇÅ„Å°„ÇÉ„Åè„Å°„ÇÉËâØ„Åã„Å£„Åü„Åß„Åô„ÄÇ‰ªäÂæå„ÇÇÂÄã‰∫∫ÁöÑ„Å™„ÇÇ„ÅÆ„ÅØMakefile„Åß„ÅØ„Å™„ÅèTaskfile„Çí‰ΩøÁî®„Åó„Åü„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ

‰ªäÂõû„ÅØ‰ª•‰∏ä„Åß„Åôüêº

## Makefile„Å®ÊØîËºÉ„Åó„Å¶„Åø„Çã(„Åä„Åæ„Åë)

ÊúÄÂæå„Å´‰ΩúÊàê„Åó„ÅüTaskfile„ÇíMakefile„Å´„Åó„Åü„ÇÇ„ÅÆ„Å®ÊØîËºÉ„Åó„Å¶„Åø„Åæ„Åô„ÄÇ

```yaml:Taskfile.yaml
version: '3'

tasks:
  new:article:
    desc: create new article. [command] task new:article
    dir: $HOME/note
    cmds:
      - note-cli create article -a Junichi.Y -t .
    silent: true
  new:image:
    desc: create new article image. [command] task new:image -- [directory name] 
    dir: $HOME/note
    preconditions:
      - sh: command -v ruby
        msg: This command requires ruby.Please install ruby.
    cmds:
      - |
        DIR={{.CLI_ARGS}}
        [[ $DIR == */ ]] && DIR="${DIR%/}"

        # TEMPLATE_NUM=$((RANDOM % 3 + 1))
        TEMPLATE_NUM=$(ruby -e 'puts rand(1..3)')
        OUTPUT=$DIR/output.png
        ARTICLE=$DIR/$DIR.md

        note-cli create image -i ./icon.png --template $TEMPLATE_NUM -o $OUTPUT $ARTICLE
    silent: true
```

```Makefile:Makefile
.PHONY: new-article new-image

new-article:
	@cd $(HOME)/note && \
	note-cli create article -a Junichi.Y -t .

new-image:
	@if ! command -v ruby > /dev/null; then \
		echo "This command requires ruby. Please install ruby."; \
		exit 1; \
	fi
	@cd $(HOME)/note && \
	DIR=$(filter-out $@,$(MAKECMDGOALS)); \
	[[ $$DIR == */ ]] && DIR="$${DIR%/}"; \
	TEMPLATE_NUM=$$(ruby -e 'puts rand(1..3)'); \
	OUTPUT=$$DIR/output.png; \
	ARTICLE=$$DIR/$$DIR.md; \
	note-cli create image -i ./icon.png --template $$TEMPLATE_NUM -o $$OUTPUT $$ARTICLE
```

„Å©„Å°„Çâ„ÅÆ„Åª„ÅÜ„Åå„Çè„Åã„Çä„ÇÑ„Åô„ÅÑ„Åß„Åó„Çá„ÅÜ„ÅãÔºüÔºü