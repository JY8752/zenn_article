---
title: "Kotlin x Arrowで入門する関数型プログラミング"
emoji: "👌"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Kotlin", "Arrow", "Kotest", "関数型プログラミング"]
published: false
---

積読していた[JavaScript関数型プログラミング](https://www.amazon.co.jp/JavaScript%E9%96%A2%E6%95%B0%E5%9E%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-%E8%A4%87%E9%9B%91%E6%80%A7%E3%82%92%E6%8A%91%E3%81%88%E3%82%8B%E7%99%BA%E6%83%B3%E3%81%A8%E5%AE%9F%E8%B7%B5%E6%B3%95%E3%82%92%E5%AD%A6%E3%81%B6-impress-top-gear/dp/4295001139)を読み終わったのと、先日開催された[KotlinConf'23](https://kotlinconf.com/)のレポートを見ていて[Arrow](https://arrow-kt.io/)というKotlinで関数型プログラミングをするためのライブラリの存在を知ったので学習内容の確認を踏まえて触ってみたのでその備忘録です。

:::message
筆者は関数型プログラミングは初学者のためもしかしたら間違っていたり文脈がおかしかったりみたいなことがあるかもしれませんがコメントいただければ都度修正させていただきますのでご容赦ください🙇
:::

## 対象読者

- Kotlinで関数型プログラミングをやりたい方
- 関数型プログラミングをこれから学習しようとしている方

## モチベーション

もともと関数型プログラミングを学習しようと思ったのが普段業務でコードを書いている時にテストコードをもっとメンテナンスしやすく簡単に書きたいという気持ちがあり、なんでテストが辛いのかを考えた時に

- 一つの関数がいろいろやっていてでかい。(100とか200行くらいあるとだいぶ辛い)
- 副作用バリバリなのでテスト書くのが辛い。
- ある入力値を渡したときに予測可能な出力が戻ってこない。(戻り値なしとか外部の何かに依存していたりとか)

といった理由だよなーと考えていて、いわゆる```純粋関数```を徹底するように心がけてコードを書いていけばテスト書きやすくなるのかなという浅はかな考えです。

:::message
関数型プログラミングを学びたいならHaskellとかやればいいんじゃんと言われればまったくその通りなんですが、関数型プログラミング自体への謎のハードルがあり、少しでもハードルを下げようと自分の知っている言語で学習を開始しました。やってみた感想として**関数型プログラミングを学習するならHaskellやElmといった純粋関数型言語をやったほうがいい**です。前述したJavaScript本もKotlinのArrowというライブラリも関数型プログラミングにあるモナドやファンクターや関数合成といった概念をどう表現するかみたいな話になってきて結局もとの概念がわからんとなって二度手間な感じがしたからです。それなりに腰を据えて関数型プログラミングの基礎を学びたいという方がいればHaskellやElmなどの言語を学習することをおすすめします。
:::

## setup

適当にKotlinプロジェクトを用意します。今回は特にフレームワークなどは利用せず```gradle init```しました。プロジェクトが作成できたら以下の依存関係を追加します。

```kotlin:build.gradle.kts
    // arrow
    implementation("io.arrow-kt:arrow-core:1.2.0-RC")
    implementation("io.arrow-kt:arrow-fx-coroutines:1.2.0-RC")
```

